94.times { |i|
  c = -> j {
    j<12?[i/2,(2*j+i%2-12)%96+9]:(a=((i*36+(j-12))*19%3384);[a/72,21+a%72])
  };
  l,m='{|}~', '"#!'<<92;
  rs[s=(r=0..47).map { j,k=c[_1]; $z[j][k].tr(l,m)} * ''];
  s.tr! m,l;
  r.map{
    j,k=c[_1];
    $z[j][k]=s[_1]
  }
}
